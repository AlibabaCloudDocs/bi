# 编辑数据集 {#concept_lth_dgr_5db .concept}

您可以根据图表的展示需要编辑对应的数据集。

1.  登录Quick BI控制台。
2.  单击**数据集**，进入数据集管理页面。
3.  选择一个数据集，单击其名称，进入数据集编辑页面，如下图所示。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9093/15484122626888_zh-CN.png)


系统会将数据集中所包含的字段自动划分为**维度**和**度量**，您可以根据您的建表需要，编辑数据的维度字段和度量字段。数据集编辑完成之后，您还可以根据系统提供的**工具栏**，将编辑好的数据保存和刷新。

**说明：** 在保存数据集之前，您还可通过单击**设置过滤条件**对当前数据集中的数据进行筛选，在使用该数据集时减少对非相关数据的搜索。

## 字段类型切换 {#section_rsj_43p_5db .section}

如果您需要制作地图类的图表，比如气泡地图和色彩地图，那么您需要找到含有地理信息的维度字段，并将它们的字段类型从字符串切换为地理信息，否则，地图将无法展示。

1.  单击**数据集**，进入数据集管理页面。
2.  选择一个目标数据集，例如company\_sales\_record，进入数据集编辑页面。
3.  在维度列表中，找到area（区域）。
4.  单击鼠标右键，在下拉菜单中选择**维度类型切换** \> **地理信息** \> **区域**，如下图所示。

    **说明：** 切换地理信息时，地理信息的选项一定要与字段完全匹配。比如，字段为area（区域），那么在地理信息列表中，也一定要选择区域，这样字段类型才能被切换。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/16449/15484122627494_zh-CN.png)

5.  将province（省份）和city（城市）也用同样的方式切换，如下图所示。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/16449/15484122627495_zh-CN.png)

6.  数据集编辑完成后，单击**保存**。
7.  单击**刷新预览**，系统会自动将数据显示在表格中。

如果您还想了解更过关于数据集的编辑，请参阅[ZH-CN\_TP\_9093\_V1.md\#](cn.zh-CN/用户指南/数据建模/管理数据集/编辑数据集.md#)。

## 编辑维度 {#section_ety_jgr_5db .section}

您可以通过单击维度的操作按钮或者单击鼠标右键打开编辑菜单。例如，创建气泡地图和色彩地图时，您需要切换维度类型为地理信息，否则将无法正常制作地图图表。

1.  选择一个维度字段。例如**订单等级**。
2.  单击鼠标右键，打开字段编辑菜单，如下图所示。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9093/15484122626889_zh-CN.png)

    -   编辑：修改维度显示名以及备注信息。
    -   克隆维度：快速复制一个维度，生成的维度将会自动带上**副本**以做提示。
    -   在分析中隐藏：可根据需要隐藏某些维度。
    -   取消全部隐藏：取消对相关维度的隐藏。
    -   删除：删除该字段。
    -   新建计算字段（维度）：可新创建一个维度字段，并且可自定义其计算方式。
    -   移动到：快速将维度纳入到已有层次结构中，可用来实现钻取。
    -   新建层次结构：快速将维度纳入到新建的层次结构中。
    -   上移/下移：移动字段位置，支持鼠标拖拽和右键单击。
    -   转换为度量：可将当前维度字段转换为度量字段。
    -   维度类型切换：支持默认、日期、地理、文本以及数字的切换。

## 编辑度量 {#section_lw2_4gr_5db .section}

1.  选择一个度量字段，例如**订单数量**。
2.  单击鼠标右键，打开字段编辑菜单，如下图所示。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9093/15484122626890_zh-CN.png)

    -   编辑：修改维度显示名以及备注信息。
    -   克隆度量：快速复制一个度量，生成的维度将会自动带上**副本**以做提示。
    -   在分析中隐藏：可根据需要隐藏某些维度。
    -   取消全部隐藏：取消对相关维度的隐藏。
    -   删除: 删除该字段.
    -   新建计算字段（度量）：可新建一个度量字段，并且可自定义其计算方式。
    -   移动到：快速将度量纳入到已有文件夹中
    -   下移：移动字段位置，支持鼠标拖拽和右键
    -   转换为维度：可将当前度量字段转换为维度字段。
    -   数字格式化：可决定数字的显示格式。
    -   默认聚合方式：可在菜单中选择聚合方式，如求和，最大值，最小值等。
    -   度量类型切换：支持默认、日期、地理、文本以及数字的切换。

## 工具栏 {#section_nk5_rgr_5db .section}

您可以通过工具栏功能，实现数据集的协同操作、保存、刷新、同步等操作，如下图所示。

![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9093/15484122626891_zh-CN.png)

-   协同操作：通过锁机制实现对数据集的协同操作。
-   另存为：您可以把当前数据集另存为新的数据集，此操作可以用于快速复制一个新的数据集或备份数据集等场景。
-   保存：保存该数据集。
-   刷新预览：刷新数据集并预览数据。如需实时查看最新的数据，请保存数据集后刷新数据。
-   设置过滤条件：在保存数据集之前，您还可通过该功能对当前数据集中的数据进行筛选，在使用该数据集时减少对非相关数据的搜索。
-   同步表结构：此操作可以合并线上物理表新增的表字段，此操作可以用于线上物理表发现改变，如新增了某字段，这样可以很方便的从线上把字段同步下来，如果线上表字段被删除或者更改了字段名，系统将不会对数据集的维度/度量做相应删除处理。

## 关联数据表 {#section_gpz_5gr_5db .section}

**说明：** 

-   标准版和高级版暂不支持非同源数据表关联。
-   专业版支持非同源数据表关联，目前仅适用于MaxCompute，MySQL，Oracle三类数据源。
-   关联的数据表只能是数据库中的原始表，暂不支持关联已创建的数据集。

目前Quick BI支持以下三种关联方式。

-   内连接
-   左外连接
-   全连接

    **说明：** MySQL数据源暂不支持全连接。


如果您有多张数据表，并且多张数据表来自于同一个数据集，那么，您可以通过**关联表**功能，将多张数据表以雪花模型方式进行关联。例如，表A关联表B，表B关联表C，系统会自动将被关联的字段以文件夹的方式，添加到表A的维度和度量列表中。

1.  单击**关联**图标，进入数据表关联页面，如下图所示。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9093/154841226238214_zh-CN.png)

2.  单击**+**号，添加需要关联的数据表。
3.  单击下拉箭头，选择需要关联的**数据集字段**，如下图所示。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9093/154841226234000_zh-CN.png)

4.  单击下拉箭头，选择**关联方式**，如下图所示。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9093/15484122626892_zh-CN.png)

5.  单击下拉箭头，选择**关联维表名**，如下图所示。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9093/154841226234003_zh-CN.png)

6.  单击下拉箭头，选择**关联字段**。
7.  单击**确定**，完成关联表添加，如下图所示。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9093/15484122631327_zh-CN.png)

    -   单击位置1处的**+**号，可以将第三张数据表与表二进行关联。
    -   单击位置2处的**+**号，可以将第三张数据表与第二张数据表并列跟表一关联。
8.  单击**预览**图标，切换到预览模式，如下图所示。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9093/15484122636893_zh-CN.png)

9.  单击**保存**，保存该数据集。

## 添加分组字段 {#section_jyn_xrf_1fb .section}

在数据集编辑页面，可以通过**添加分组字段**功能对所需字段的字段值根据需求进行自由组合创建新的字段值，在创建的分组字段中存储分组信息。

**说明：** 

-   分组字段功能仅适用于Quick BI专业版。
-   分组字段功能不适用于工作表。并且工作表为公测功能，即将下线，建议使用电子表格。

1.  在数据集管理页面，选择一个数据集并单击。
2.  在数据集编辑页面，选择维度部分的**+** \> **添加分组字段**。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9093/154841226311199_zh-CN.png)

3.  在**编辑分组**页面，输入相关信息并单击**确定**。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9093/154841226311403_zh-CN.png)

4.  单击**保存**并**刷新预览**，新建分组字段出现在维度列表中。

## 全表扫描设置 {#section_ux2_nrg_1fb .section}

数据源为MaxCompute（原ODPS）的数据集支持全表扫描功能。开启全表扫描操作如下：

1.  在数据集管理页面，右击一个数据源为MaxCompute的数据集并选择**属性**。
2.  在**属性**页面，勾选**是否全表扫描**选项开启全表扫描。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9093/154841226311209_zh-CN.png)


**双表关联示例**

1.  在数据集管理页面，找到一个数据集。
2.  单击其名称，进入数据集编辑页面。
3.  单击**关联**图标，进入关联表编辑页面。
4.  单击**+**号，打开关联模型对话框。
5.  单击**数据集字段**下拉箭头，选择一个关联字段。
6.  单击**关联方式**下拉箭头，选择一种关联方式，例如**左关联**。
7.  单击**关联维表名**下拉箭头，选择一个被关联的数据集。
8.  单击**关联字段**下拉箭头，选择一个被关联的字段。
9.  单击**确定**，完成关联表添加，如下图所示。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9093/15484122631329_zh-CN.png)

10. 关联表添加完成后，可单击**预览**图标，预览数据。
11. 单击**保存**，保存该数据集。

## 多表关联示例 { .section}

1.  在数据集管理页面，找到一个数据集（表A）。
2.  单击其名称，进入数据集编辑页面。
3.  单击**关联**图标，进入关联表编辑页面。
4.  单击**+**号，打开关联模型对话框。
5.  单击**数据集字段**下拉箭头，选择一个字段。
6.  单击**关联方式**下拉箭头，选择一种关联方式，例如**左关联**。
7.  单击**关联维表名**下拉箭头，选择一个被关联的数据集（表B）。
8.  单击**关联字段**下拉箭头，选择一个被关联的字段。
9.  单击**确定**，完成表A与表B的关联。
10. 在表B的后方或者下方，单击**+**图标，可继续添加关联表（表C），如下图所示。

    **说明：** 横向关联数据表时，最多只可以关联三张数据表。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9093/15484122631330_zh-CN.png)

    表C可与表B关联，也可以跟表B并列关联表A。

11. 关联表添加完成后，可单击**预览**图标，预览数据。
12. 单击**保存**，保存该数据集。

